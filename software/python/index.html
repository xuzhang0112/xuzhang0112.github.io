<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="light"
  data-auto-appearance="true"><head>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Python &middot; Xu Zhang&#39;s Blog</title>
  <meta name="title" content="Python &middot; Xu Zhang&#39;s Blog" />
  
  
  
  
  
  <link rel="canonical" href="https://xuzhang0112.github.io/software/python/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.5f8f4777872a0d3d0d40b3754a43f54f29ae82af8e7ee8b8cb972495c44f0d770b15cd4194b7a49bc85950ac492768c127b305a57fc92ed77bf7e230fb6530a4.css"
    integrity="sha512-X49Hd4cqDT0NQLN1SkP1Tymugq&#43;Ofui4y5cklcRPDXcLFc1BlLekm8hZUKxJJ2jBJ7MFpX/JLtd79&#43;Iw&#43;2UwpA==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.165327e9b2a9a8807ad5cb6c943a8f9a52756791c128e2dbfb3623bb42429636adb4bbb076b0447b592cad02914321a6aef0db10b907465de34fda41e2830281.js"
    integrity="sha512-FlMn6bKpqIB61ctslDqPmlJ1Z5HBKOLb&#43;zYju0JCljattLuwdrBEe1ksrQKRQyGmrvDbELkHRl3jT9pB4oMCgQ==" data-copy="Copy" data-copied="Copied"></script>
  
  
  
  <script src="/lib/zoom/zoom.min.f592a181a15d2a5b042daa7f746c3721acf9063f8b6acd175d989129865a37d400ae0e85b640f9ad42cd98d1f8ad30931718cf8811abdcc5fcb264400d1a2b0c.js" integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj&#43;Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="https://xuzhang0112.github.io/software/python/">
  <meta property="og:site_name" content="Xu Zhang&#39;s Blog">
  <meta property="og:title" content="Python">
  <meta property="og:description" content="æ¨èé“¾æ¥
å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™
Grammar # Basic Data Class # Tips List æœ‰åºï¼Œä½†æŸ¥æ‰¾æ•ˆç‡éå¸¸ä½ Dict æœ‰åºï¼Œä½†å¹¶éæ’å…¥é¡ºåº Set æ— åºï¼Œé¡ºåºæ˜¯éšæœºçš„ Function # å‡½æ•°ç­¾å # def f(x: int, b: float): pass å‚æ•°ç»„åˆ # å®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä½¿ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ã€‚">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="software">
    <meta property="article:published_time" content="2025-04-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-04-25T00:00:00+00:00">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Python">
  <meta name="twitter:description" content="æ¨èé“¾æ¥
å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™
Grammar # Basic Data Class # Tips List æœ‰åºï¼Œä½†æŸ¥æ‰¾æ•ˆç‡éå¸¸ä½ Dict æœ‰åºï¼Œä½†å¹¶éæ’å…¥é¡ºåº Set æ— åºï¼Œé¡ºåºæ˜¯éšæœºçš„ Function # å‡½æ•°ç­¾å # def f(x: int, b: float): pass å‚æ•°ç»„åˆ # å®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä½¿ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ã€‚">

    
  
  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Software",
    "name": "Python",
    "headline": "Python",
    
    "abstract": "\u003cp\u003eæ¨èé“¾æ¥\u003c\/p\u003e\n\u003cp\u003e\u003ca href=\u0022https:\/\/liaoxuefeng.com\/books\/python\/reg-exp\/index.html\u0022 target=\u0022_blank\u0022\u003eå»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™\u003c\/a\u003e\u003c\/p\u003e\n\n\u003ch2 class=\u0022relative group\u0022\u003eGrammar \n    \u003cdiv id=\u0022grammar\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#grammar\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eBasic Data Class \n    \u003cdiv id=\u0022basic-data-class\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#basic-data-class\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\u003ctable\u003e\n  \u003cthead\u003e\n      \u003ctr\u003e\n          \u003cth\u003e\u003c\/th\u003e\n          \u003cth\u003eTips\u003c\/th\u003e\n      \u003c\/tr\u003e\n  \u003c\/thead\u003e\n  \u003ctbody\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eList\u003c\/td\u003e\n          \u003ctd\u003eæœ‰åºï¼Œä½†æŸ¥æ‰¾æ•ˆç‡éå¸¸ä½\u003c\/td\u003e\n      \u003c\/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eDict\u003c\/td\u003e\n          \u003ctd\u003eæœ‰åºï¼Œä½†å¹¶éæ’å…¥é¡ºåº\u003c\/td\u003e\n      \u003c\/tr\u003e\n      \u003ctr\u003e\n          \u003ctd\u003eSet\u003c\/td\u003e\n          \u003ctd\u003eæ— åºï¼Œé¡ºåºæ˜¯éšæœºçš„\u003c\/td\u003e\n      \u003c\/tr\u003e\n  \u003c\/tbody\u003e\n\u003c\/table\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eFunction \n    \u003cdiv id=\u0022function\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#function\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003eå‡½æ•°ç­¾å \n    \u003cdiv id=\u0022å‡½æ•°ç­¾å\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#%e5%87%bd%e6%95%b0%e7%ad%be%e5%90%8d\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 style=\u0022color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\u0022\u003e\u003ccode class=\u0022language-Plain\u0022 data-lang=\u0022Plain\u0022\u003e\u003cspan style=\u0022display:flex;\u0022\u003e\u003cspan\u003edef f(x: int, b: float):\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan style=\u0022display:flex;\u0022\u003e\u003cspan\u003e    pass\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003ch4 class=\u0022relative group\u0022\u003eå‚æ•°ç»„åˆ \n    \u003cdiv id=\u0022å‚æ•°ç»„åˆ\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#%e5%8f%82%e6%95%b0%e7%bb%84%e5%90%88\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\u003cp\u003eå®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä½¿ç”¨\u003cem\u003e\u003cstrong\u003eå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°\u003c\/strong\u003e\u003c\/em\u003eã€‚\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "https:\/\/xuzhang0112.github.io\/software\/python\/",
    "author" : {
      "@type": "Person",
      "name": "Xu Zhang"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-04-25T00:00:00\u002b00:00",
    "datePublished": "2025-04-25T00:00:00\u002b00:00",
    
    "dateModified": "2025-04-25T00:00:00\u002b00:00",
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "1416"
  }]
  </script>


  
  
  <meta name="author" content="Xu Zhang" />
  
  
  
  
  <link href="https://scholar.google.com/citations?user=6-NiSKYAAAAJ&amp;hl=zh-CN" rel="me" />
  
  
  
  
  <link href="https://www.zhihu.com/people/zhang-xu-20-31-39" rel="me" />
  
  
  
  
  <link href="https://space.bilibili.com/456489591" rel="me" />
  
  
  
  
  <link href="https://github.com/xuzhang0112" rel="me" />
  
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.js" integrity=""></script>








<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css"
    integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"
    integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd"
    crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"
    integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk"
    crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body, {
            
            
            delimiters: [
                { left: '$$', right: '$$', display: true },
                { left: '$', right: '$', display: false },
                { left: '\\(', right: '\\)', display: false },
                { left: '\\[', right: '\\]', display: true },
            ],
            
            throwOnError: false
        });
    });
</script>












  
  



  
  
  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3">
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">Xu Zhang&rsquo;s Blog</a>
            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
             
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a  class="text-base font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="">
      Tips
    </a>
    <span>
      

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
        <a href="/software/cheatsheet/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="CheatSheet">
            CheatSheet
          </p>
        </a>
        
        <a href="/software/python/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="Python">
            Python
          </p>
        </a>
        
        <a href="/course/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="Course">
            Course
          </p>
        </a>
        
      </div>
    </div>
  </div>
</div>



            
            
  <a href="/publication/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="ğŸ“šPublications">
        Publications
    </p>
</a>



            
            
  <a href="/cv/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        About Me
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                     
  <li class="mt-1">
    <a href="" class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Tips
        </p>
        <span>
            

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


        </span>
    </a>
</li>

<li class="mt-1">
    <a href="/software/cheatsheet/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="CheatSheet">
            CheatSheet
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/software/python/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="Python">
            Python
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/course/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="Course">
            Course
        </p>
    </a>
</li>

<li class="mb-2"></li>




                    

                    
  <li class="mt-1">
    <a href="/publication/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="ğŸ“šPublications">
            Publications
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/cv/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            About Me
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
  <li class="hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/"
      >Xu Zhang&#39;s Blog</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/software/"
      >Software</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/software/python/"
      >Python</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Python
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  

























<div class="flex flex-row flex-wrap items-center">
  
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  
</div>







    </div>

    
    
    
    
    

    

    
      
      

      

      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10">

         <details open id="TOCView" class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#grammar">Grammar</a>
      <ul>
        <li><a href="#basic-data-class">Basic Data Class</a></li>
        <li><a href="#function">Function</a></li>
        <li><a href="#iterator">Iterator</a></li>
        <li><a href="#object">Object</a></li>
        <li><a href="#modules">Modules</a></li>
      </ul>
    </li>
    <li><a href="#nlp">NLP</a>
      <ul>
        <li><a href="#spacy">spacy</a></li>
      </ul>
    </li>
    <li><a href="#web">Web</a>
      <ul>
        <li><a href="#fastapi--requests">FastAPI &amp; Requests</a></li>
      </ul>
    </li>
    <li><a href="#data-processing">Data Processing</a>
      <ul>
        <li><a href="#jupter-notebook">Jupter Notebook</a></li>
        <li><a href="#pandas">Pandas</a></li>
        <li><a href="#matplotlib">Matplotlib</a></li>
        <li><a href="#jsonyaml">json/yaml</a></li>
      </ul>
    </li>
    <li><a href="#deep-learning">Deep Learning</a>
      <ul>
        <li><a href="#torch">Torch</a></li>
        <li><a href="#pyg-torch_gemotry">PyG: torch_gemotry</a></li>
      </ul>
    </li>
    <li><a href="#experiemnt">Experiemnt</a>
      <ul>
        <li><a href="#torchmetrics">TorchMetrics</a></li>
        <li><a href="#tensorboardwandbswanlab">Tensorboard/wandb/Swanlab</a></li>
      </ul>
    </li>
    <li><a href="#ai-infra-for-llm">AI Infra for LLM</a>
      <ul>
        <li><a href="#llm-download">LLM Download</a></li>
        <li><a href="#transformers">Transformers</a></li>
        <li><a href="#datasets">Datasets</a></li>
        <li><a href="#accelerate">Accelerate</a></li>
        <li><a href="#vllm">VLLM</a></li>
        <li><a href="#llama-factory">LLaMa Factory</a></li>
        <li><a href="#verl">VERL</a></li>
      </ul>
    </li>
    <li><a href="#file-system">File System</a>
      <ul>
        <li><a href="#æ­£åˆ™åŒ¹é…ä¸è·¯å¾„æ“ä½œ">æ­£åˆ™åŒ¹é…ä¸è·¯å¾„æ“ä½œ</a></li>
        <li></li>
        <li><a href="#å·¥ä½œç›®å½•ä¸åŒ…ç®¡ç†">å·¥ä½œç›®å½•ä¸åŒ…ç®¡ç†</a></li>
        <li><a href="#æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥">æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#grammar">Grammar</a>
      <ul>
        <li><a href="#basic-data-class">Basic Data Class</a></li>
        <li><a href="#function">Function</a></li>
        <li><a href="#iterator">Iterator</a></li>
        <li><a href="#object">Object</a></li>
        <li><a href="#modules">Modules</a></li>
      </ul>
    </li>
    <li><a href="#nlp">NLP</a>
      <ul>
        <li><a href="#spacy">spacy</a></li>
      </ul>
    </li>
    <li><a href="#web">Web</a>
      <ul>
        <li><a href="#fastapi--requests">FastAPI &amp; Requests</a></li>
      </ul>
    </li>
    <li><a href="#data-processing">Data Processing</a>
      <ul>
        <li><a href="#jupter-notebook">Jupter Notebook</a></li>
        <li><a href="#pandas">Pandas</a></li>
        <li><a href="#matplotlib">Matplotlib</a></li>
        <li><a href="#jsonyaml">json/yaml</a></li>
      </ul>
    </li>
    <li><a href="#deep-learning">Deep Learning</a>
      <ul>
        <li><a href="#torch">Torch</a></li>
        <li><a href="#pyg-torch_gemotry">PyG: torch_gemotry</a></li>
      </ul>
    </li>
    <li><a href="#experiemnt">Experiemnt</a>
      <ul>
        <li><a href="#torchmetrics">TorchMetrics</a></li>
        <li><a href="#tensorboardwandbswanlab">Tensorboard/wandb/Swanlab</a></li>
      </ul>
    </li>
    <li><a href="#ai-infra-for-llm">AI Infra for LLM</a>
      <ul>
        <li><a href="#llm-download">LLM Download</a></li>
        <li><a href="#transformers">Transformers</a></li>
        <li><a href="#datasets">Datasets</a></li>
        <li><a href="#accelerate">Accelerate</a></li>
        <li><a href="#vllm">VLLM</a></li>
        <li><a href="#llama-factory">LLaMa Factory</a></li>
        <li><a href="#verl">VERL</a></li>
      </ul>
    </li>
    <li><a href="#file-system">File System</a>
      <ul>
        <li><a href="#æ­£åˆ™åŒ¹é…ä¸è·¯å¾„æ“ä½œ">æ­£åˆ™åŒ¹é…ä¸è·¯å¾„æ“ä½œ</a></li>
        <li></li>
        <li><a href="#å·¥ä½œç›®å½•ä¸åŒ…ç®¡ç†">å·¥ä½œç›®å½•ä¸åŒ…ç®¡ç†</a></li>
        <li><a href="#æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥">æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>

<script>

</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          <p>æ¨èé“¾æ¥</p>
<p><a href="https://liaoxuefeng.com/books/python/reg-exp/index.html" target="_blank">å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</a></p>

<h2 class="relative group">Grammar 
    <div id="grammar" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#grammar" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">Basic Data Class 
    <div id="basic-data-class" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#basic-data-class" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<table>
  <thead>
      <tr>
          <th></th>
          <th>Tips</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>List</td>
          <td>æœ‰åºï¼Œä½†æŸ¥æ‰¾æ•ˆç‡éå¸¸ä½</td>
      </tr>
      <tr>
          <td>Dict</td>
          <td>æœ‰åºï¼Œä½†å¹¶éæ’å…¥é¡ºåº</td>
      </tr>
      <tr>
          <td>Set</td>
          <td>æ— åºï¼Œé¡ºåºæ˜¯éšæœºçš„</td>
      </tr>
  </tbody>
</table>

<h3 class="relative group">Function 
    <div id="function" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#function" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h4 class="relative group">å‡½æ•°ç­¾å 
    <div id="å‡½æ•°ç­¾å" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%87%bd%e6%95%b0%e7%ad%be%e5%90%8d" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Plain" data-lang="Plain"><span style="display:flex;"><span>def f(x: int, b: float):
</span></span><span style="display:flex;"><span>    pass
</span></span></code></pre></div>
<h4 class="relative group">å‚æ•°ç»„åˆ 
    <div id="å‚æ•°ç»„åˆ" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%8f%82%e6%95%b0%e7%bb%84%e5%90%88" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>å®šä¹‰å‡½æ•°æ—¶ï¼Œå¯ä½¿ç”¨<em><strong>å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°</strong></em>ã€‚</p>
<p>è¿™5ç§å‚æ•°éƒ½å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œä½†<em><strong>å¿…é¡»æŒ‰é¡ºåº</strong></em>ä½¿ç”¨ã€‚</p>
<p>æœ‰å¤šä¸ªé»˜è®¤å‚æ•°æ—¶ï¼Œè°ƒç”¨çš„æ—¶å€™ï¼Œæ—¢å¯ä»¥æŒ‰é¡ºåºæä¾›é»˜è®¤å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‰é¡ºåºæä¾›éƒ¨åˆ†é»˜è®¤å‚æ•°ã€‚å½“ä¸æŒ‰é¡ºåºæä¾›éƒ¨åˆ†é»˜è®¤å‚æ•°æ—¶ï¼Œéœ€è¦æŠŠå‚æ•°åå†™ä¸Šã€‚</p>
<p>æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«ä¸Šè¿°è‹¥å¹²ç§å‚æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>(a, b, c<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f2</span>(a, b, c<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#f92672">*</span>, d, <span style="color:#f92672">**</span>kw):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p>åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œå¿…é¡»å…ˆæŒ‰é¡ºåºä¼ å…¥ï¼Œå†æŒ‰å‚æ•°åä¼ å…¥ã€‚</p>
<p>ç”±äºPythonè§£é‡Šå™¨ä¼šæŒ‰ä¸Šè¿°é¡ºåºè§£æ5ç§å‚æ•°ï¼Œå› æ­¤ï¼Œå¦‚æœè¦ä¼ å…¥å¯å˜å‚æ•°ï¼Œå¿…é¡»å…ˆä¼ å…¥é»˜è®¤å‚æ•°ã€‚</p>

<h4 class="relative group">è§£åŒ… 
    <div id="è§£åŒ…" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e8%a7%a3%e5%8c%85" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>å¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼<code>func(*args, **kw)</code>çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚</p>
<p>tupleç”¨<code>*</code>è§£åŒ…ï¼Œdicç”¨<code>**</code>è§£åŒ…ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>args <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>kw <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;d&#39;</span>: <span style="color:#ae81ff">99</span>, <span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#e6db74">&#39;#&#39;</span>}
</span></span><span style="display:flex;"><span>f(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw)
</span></span></code></pre></div><ul>
<li>
<p><code>zip()</code>è¡¨ç¤ºå‹ç¼©ï¼›<code>zip(*)</code>è¡¨ç¤ºè§£å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> b <span style="color:#f92672">=</span> [<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> zip(a,b)     <span style="color:#75715e"># è¿”å›ä¸€ä¸ªå¯¹è±¡</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>zip object at <span style="color:#ae81ff">0x103abc288</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> list(zipped)  <span style="color:#75715e"># list() è½¬æ¢ä¸ºåˆ—è¡¨</span>
</span></span><span style="display:flex;"><span>[(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>), (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>), (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">6</span>)]
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> a1, a2 <span style="color:#f92672">=</span> zip(<span style="color:#f92672">*</span>zip(a,b))  <span style="color:#75715e"># ä¸ zip ç›¸åï¼Œzip(*) å¯ç†è§£ä¸ºè§£å‹</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> list(a1), list(a2)
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]
</span></span></code></pre></div></li>
</ul>

<h4 class="relative group">è£…é¥°å™¨ 
    <div id="è£…é¥°å™¨" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e8%a3%85%e9%a5%b0%e5%99%a8" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>è£…é¥°å™¨<strong>å®šä¹‰å¤æ‚ï¼Œä½¿ç”¨ç®€å•</strong></p>
<p>ä»¥å®šä¹‰ä¸€ä¸ª<code>log</code>è£…é¥°å™¨ä¸ºä¾‹ï¼Œå…¶ä¸­<code>@functools.wraps(func)</code>å¯ä»¥ä¿æŒè£…é¥°åå‡½æ•°çš„<code>__name__</code>å±æ€§ä¸å˜</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> functools
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">log</span>(func):
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@functools.wraps</span>(func)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">wrapper</span>(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;call </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">():&#39;</span> <span style="color:#f92672">%</span> func<span style="color:#f92672">.</span>__name__)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> func(<span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kw)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> wrapper
</span></span></code></pre></div><p>ä½¿ç”¨è£…é¥°å™¨åªéœ€è¦åœ¨éœ€è¦è£…é¥°çš„å‡½æ•°å®šä¹‰å‰åŠ <code>@log</code>ï¼Œå³å¯ä½¿å¾—è£…é¥°åçš„å‡½æ•°åœ¨æ¯æ¬¡è°ƒç”¨æ—¶æ‰“å°å‡½æ•°åç§°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@log</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_func</span>(<span style="color:#f92672">*</span>args,<span style="color:#f92672">**</span>kw):
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p>å¸¸ç”¨è£…é¥°å™¨</p>
<p>@dataclass</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@dataclass</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Point</span>:
</span></span><span style="display:flex;"><span>    x: float
</span></span><span style="display:flex;"><span>    y: float
</span></span><span style="display:flex;"><span>    z: float <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ä¸Šä¸‹ä¸¤è€…ç­‰ä»·</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Point</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, x: float, y: float, z: float <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>x <span style="color:#f92672">=</span> x
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>y <span style="color:#f92672">=</span> y
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>z <span style="color:#f92672">=</span> z
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__repr__</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Point(x=</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">, y=</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>y<span style="color:#e6db74">}</span><span style="color:#e6db74">, z=</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>z<span style="color:#e6db74">}</span><span style="color:#e6db74">)&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__eq__</span>(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> isinstance(other, Point):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (self<span style="color:#f92672">.</span>x, self<span style="color:#f92672">.</span>y, self<span style="color:#f92672">.</span>z) <span style="color:#f92672">==</span> (other<span style="color:#f92672">.</span>x, other<span style="color:#f92672">.</span>y, other<span style="color:#f92672">.</span>z)
</span></span></code></pre></div>
<h4 class="relative group">åŒ¿åå‡½æ•°å’Œåå‡½æ•° 
    <div id="åŒ¿åå‡½æ•°å’Œåå‡½æ•°" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%8c%bf%e5%90%8d%e5%87%bd%e6%95%b0%e5%92%8c%e5%81%8f%e5%87%bd%e6%95%b0" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>lambdaåœ¨ä¼ å‚æ—¶ä¼ çš„æ˜¯å˜é‡ï¼›partialåœ¨ä¼ å‚æ—¶ä¼ çš„æ˜¯å¯¹è±¡ï¼›</p>

<h3 class="relative group">Iterator 
    <div id="iterator" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#iterator" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<img src="https://raw.githubusercontent.com/xuzhang0112/pic-repo/main/202407191834521.png" alt="image-20240719183328055" style="zoom: 25%;" />
<table>
  <thead>
      <tr>
          <th>å¯è¿­ä»£å¯¹è±¡</th>
          <th>å®šä¹‰</th>
          <th>ä¸¾ä¾‹</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ä¸€èˆ¬å¯è¿­ä»£å¯¹è±¡</td>
          <td>å¯é€šè¿‡forå¾ªç¯éå†çš„å¯¹è±¡ï¼Œå¯é€šè¿‡ç´¢å¼•è®¿é—®</td>
          <td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å­—å…¸ã€é›†åˆâ€¦â€¦</td>
          <td></td>
      </tr>
      <tr>
          <td>è¿­ä»£å™¨</td>
          <td>æƒ°æ€§éå†ï¼Œé€šè¿‡nextè®¿é—®ä¸‹ä¸€ä¸ª</td>
          <td>ä¸€èˆ¬å¯è¿­ä»£å¯¹è±¡åˆ›å»ºçš„è¿­ä»£å™¨ï¼ˆä½¿ç”¨iteråˆ›å»ºï¼‰ã€ç”Ÿæˆå™¨ï¼ˆä½¿ç”¨yieldåˆ›å»ºï¼‰</td>
          <td></td>
      </tr>
  </tbody>
</table>
<p><strong>forå¾ªç¯çš„æœ¬è´¨æ˜¯é€šè¿‡iteræ–¹æ³•è·å–å¯è¿­ä»£å¯¹è±¡çš„è¿­ä»£å™¨</strong></p>

<h3 class="relative group">Object 
    <div id="object" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#object" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><em><strong>é™æ€å˜é‡</strong></em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Plain" data-lang="Plain"><span style="display:flex;"><span>Class A:
</span></span><span style="display:flex;"><span>    a: List[int]
</span></span><span style="display:flex;"><span>    b: Dict[float] | str
</span></span></code></pre></div><p><em><strong>æ–¹æ³•</strong></em></p>
<ul>
<li>å†…ç½®æ–¹æ³•</li>
<li>å®ä¾‹æ–¹æ³•
<ul>
<li>å®ä¾‹æ–¹æ³•æœ€å°‘ä¹Ÿè¦åŒ…å«ä¸€ä¸ª self å‚æ•°ï¼Œè°ƒç”¨æ—¶Pythonä¼šè‡ªåŠ¨å°†å¯¹è±¡ä¼ ç»™selfå‚æ•°</li>
<li>å®ä¾‹æ–¹æ³•ä¸€èˆ¬ç”±å¯¹è±¡ç›´æ¥è°ƒç”¨ï¼Œä¹Ÿæ”¯æŒä½¿ç”¨ç±»åè°ƒç”¨å®ä¾‹æ–¹æ³•ï¼Œä½†æ­¤æ–¹å¼éœ€è¦æ‰‹åŠ¨ç»™ self å‚æ•°ä¼ å€¼</li>
</ul>
</li>
<li>ç±»æ–¹æ³•
<ul>
<li>ç±»æ–¹æ³•éœ€è¦ä½¿ç”¨<code>ï¼ classmethod</code>ä¿®é¥°ç¬¦è¿›è¡Œä¿®é¥°</li>
<li>ç±»æ–¹æ³•è‡³å°‘è¦åŒ…å«ä¸€ä¸ªå‚æ•°ï¼Œé€šå¸¸å°†å…¶å‘½åä¸º clsï¼Œè°ƒç”¨æ—¶Python ä¼šè‡ªåŠ¨å°†ç±»æœ¬èº«ä¼ ç»™ cls å‚æ•°</li>
<li>ç±»æ–¹æ³•æ¨èä½¿ç”¨ç±»åç›´æ¥è°ƒç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å®ä¾‹å¯¹è±¡æ¥è°ƒç”¨ï¼ˆä¸æ¨èï¼‰</li>
</ul>
</li>
<li>é™æ€æ–¹æ³•
<ul>
<li>é™æ€æ–¹æ³•éœ€è¦ä½¿ç”¨<code>ï¼ staticmethod</code>ä¿®é¥°</li>
<li>ç›¸å½“äºå‡½æ•°ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯é™æ€æ–¹æ³•å®šä¹‰åœ¨ç±»å‘½åç©ºé—´ä¸­ï¼Œè€Œå‡½æ•°å®šä¹‰åœ¨ç¨‹åºçš„å…¨å±€å‘½åç©ºé—´ä¸­</li>
<li>æ—¢æ²¡æœ‰ç±»ä¼¼ selfã€cls è¿™æ ·çš„ç‰¹æ®Šå‚æ•°ï¼Œä¹Ÿæ— æ³•è°ƒç”¨ä»»ä½•ç±»å±æ€§å’Œç±»æ–¹æ³•</li>
<li>æ—¢å¯ä»¥ç”±ç±»è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç”±å¯¹è±¡è°ƒç”¨</li>
</ul>
</li>
</ul>

<h3 class="relative group">Modules 
    <div id="modules" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#modules" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><em><strong>æ¢é•œåƒæº</strong></em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>pip config set global.index-url  https://pypi.mirrors.ustc.edu.cn/simple  <span style="color:#75715e"># æ°¸ä¹…åˆ‡æ¢</span>
</span></span></code></pre></div><p><em><strong>å®‰è£…ç¬¬ä¸‰æ–¹åº“</strong></em></p>
<p>æ™®é€šå®‰è£…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>pip install package <span style="color:#75715e"># å®‰è£…åˆ°pythonå®‰è£…ç›®å½•(å¯ä¿®æ”¹)</span>
</span></span><span style="display:flex;"><span>pip install package -e <span style="color:#75715e"># å®‰è£…åˆ°å·¥ä½œç›®å½•ï¼Œä¾¿äºä¿®æ”¹</span>
</span></span><span style="display:flex;"><span>pip install -i <span style="color:#e6db74">``</span>https://pypi.mirrors.ustc.edu.cn/simple<span style="color:#e6db74">``</span>  matplotlib <span style="color:#75715e"># ä¸´æ—¶æŒ‡å®šé•œåƒ</span>
</span></span><span style="display:flex;"><span>pip install -r requirements.txt <span style="color:#75715e"># æ‰¹é‡å®‰è£…</span>
</span></span></code></pre></div><ul>
<li>æœ‰äº›åº“åœ¨å¯¼å…¥æ—¶å’Œå®‰è£…æ—¶çš„åç§°æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¾‹å¦‚hydraå’Œhydra-coreï¼Œsklearnå’Œscikit-learnç­‰</li>
<li>æœ‰äº›åº“æ²¡æœ‰è¢«pypiæ”¶å½•ï¼Œåªèƒ½åœ¨GitHubä¸Šä¸‹è½½å’Œå®‰è£…ï¼Œä¾‹å¦‚GroundingDINO</li>
<li>æœ‰äº›åº“æ— æ³•å®‰è£…æ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿçš„ä¸€äº›åº•å±‚åº“ç‰ˆæœ¬å¤ªè€ï¼Œä¾‹å¦‚gccå’Œlibstdcxx-ngï¼ŒCUDAç‰ˆæœ¬è¿‡è€ç­‰ï¼Œå¦‚æœæ²¡æœ‰sudoæƒé™ï¼Œå¯ä»¥é€šè¿‡condaå®‰è£…ä¸€äº›ä¾èµ–åº“</li>
</ul>
<p><em><strong>å¯¼å…¥ç¬¬ä¸‰æ–¹åº“</strong></em></p>
<ul>
<li>
<p>ç»å¯¹å¯¼å…¥ï¼šæ²¿ç€<code>sys.path</code>æœç´¢Moduleï¼Œé¦–å…ˆæ˜¯è¢«æ‰§è¡Œçš„pythonæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œæ³¨æ„ä¸æ˜¯å·¥ä½œç›®å½•ï¼Œå…¶æ¬¡æ˜¯PythonåŒ…çš„å®‰è£…è·¯å¾„</p>
<ul>
<li>
<p><code>import A.B</code>æˆ–<code>from A import B</code></p>
</li>
<li>
<p><code>sys.path.append() ## NOQA: E402</code> å°†é¡¹ç›®ç›®å½•æš‚æ—¶æ·»åŠ åˆ°ç¯å¢ƒå˜é‡PYTHONPATHä¸­</p>
</li>
</ul>
</li>
<li>
<p>ç›¸å¯¹å¯¼å…¥ï¼šä»…é™äºpackageå†…éƒ¨</p>
<ul>
<li>é€šè¿‡<code>__init__.py</code>ä¸­çš„<code>from . import A</code>æˆ–<code>from ..A import B</code>å®ç°</li>
<li>ä½¿ç”¨ç›¸å¯¹å¯¼å…¥çš„ç¨‹åºæ— æ³•ä½œä¸ºä¸»ç¨‹åºæ‰§è¡Œï¼Œåªèƒ½ç”¨ä½œpackageçš„å…¥å£</li>
</ul>
</li>
<li>
<p>æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åœ¨ä½œä¸ºModuleæ—¶æ˜¯åŒä¸€å±‚çº§çš„ï¼Œä½¿ç”¨<code>from A import *</code>æ—¶éƒ½æ˜¯å¯¼å…¥å…¶ä¸‹æ‰€æœ‰çš„å¯¹è±¡</p>
</li>
</ul>

<h2 class="relative group">NLP 
    <div id="nlp" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#nlp" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">spacy 
    <div id="spacy" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#spacy" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><a href="https://allenai.github.io/scispacy/" target="_blank">ç¬¬ä¸‰æ–¹ï¼šç”¨äºç”Ÿç‰©åŒ»å­¦è¯­æ–™çš„spacyæ¨¡å‹</a></p>

<h2 class="relative group">Web 
    <div id="web" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#web" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">FastAPI &amp; Requests 
    <div id="fastapi--requests" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#fastapi--requests" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><a href="https://www.runoob.com/fastapi/fastapi-tutorial.html" target="_blank">https://www.runoob.com/fastapi/fastapi-tutorial.html</a></p>
<p><a href="https://blog.csdn.net/qq_36187610/article/details/131835752" target="_blank">åˆ©ç”¨FastAPIæ„å»ºå¤§æ¨¡å‹æ¥å£æœåŠ¡</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Server</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> fastapi <span style="color:#f92672">import</span> FastAPI
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pydantic <span style="color:#f92672">import</span> BaseModel
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> uvicorn
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> FastAPI()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Item</span>(BaseModel):
</span></span><span style="display:flex;"><span>    text: str
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.post</span>(<span style="color:#e6db74">&#34;/predict&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">infer</span>(item: Item):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#34;pred&#34;</span>:<span style="color:#f92672">...</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>uvicorn<span style="color:#f92672">.</span>run(app, host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.0.0.0&#34;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">9898</span>, workers<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Client</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>requests<span style="color:#f92672">.</span>post(
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;http://0.0.0.0:9898/predict&#34;</span>, json<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;text&#34;</span>: discharge_summary}
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div>
<h2 class="relative group">Data Processing 
    <div id="data-processing" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#data-processing" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">Jupter Notebook 
    <div id="jupter-notebook" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#jupter-notebook" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>åœ¨cellä¸­æ‰§è¡Œshell</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>!pwd <span style="color:#75715e">#å•æ¡shellå‘½ä»¤</span>
</span></span><span style="display:flex;"><span>%%bash <span style="color:#75715e">#æ•´ä¸ªcellä½œä¸ºshellè„šæœ¬</span>
</span></span></code></pre></div><p>æ¨¡å—è‡ªåŠ¨é‡è½½ï¼Œå¦åˆ™æ¯æ¬¡ä¿®æ”¹éœ€è¦é‡å¯kernel</p>
<pre tabindex="0"><code>%load_ext autoreload
%autoreload 2 #æ¯æ‰§è¡Œä¸€ä¸ªcelléƒ½ä¼šé‡è½½æ‰€æœ‰æ¨¡å—
</code></pre>
<h3 class="relative group">Pandas 
    <div id="pandas" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#pandas" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><a href="https://www.runoob.com/pandas/pandas-dataframe.html" target="_blank">èœé¸Ÿæ•™ç¨‹yyds</a></p>
<p>åˆ›å»ºDataframe</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ä»å¤–éƒ¨è¯»å–</span>
</span></span><span style="display:flex;"><span>read_csv() <span style="color:#75715e"># sep:åˆ†éš”ç¬¦; header:é»˜è®¤æ˜¯ç¬¬ä¸€è¡Œ; names:å¦‚æœæŒ‡å®šåˆ™è¯´æ˜æ²¡æœ‰header;</span>
</span></span><span style="display:flex;"><span>read_excel()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºç©ºçš„DataFrame</span>
</span></span><span style="display:flex;"><span>Dataframe(columns<span style="color:#f92672">=</span>[column_name1, column_name2])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ ¹æ®å¯è¿­ä»£å¯¹è±¡åˆ›å»ºDataFrame</span>
</span></span><span style="display:flex;"><span>Dataframe([{column1:a,column2:b},{}])  <span style="color:#75715e"># æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªDictï¼Œè¡¨ç¤ºä¸€è¡Œ</span>
</span></span><span style="display:flex;"><span>Dataframe([[a,b],[c,d],[e,f]]<span style="color:#960050;background-color:#1e0010">ï¼Œ</span>columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;c1&#39;</span>,<span style="color:#e6db74">&#39;c2&#39;</span>])  <span style="color:#75715e"># æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªListï¼Œä»£è¡¨ä¸€è¡Œ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ ¹æ®Dictåˆ›å»ºDataFrame</span>
</span></span><span style="display:flex;"><span>Dataframe<span style="color:#f92672">.</span>from_dict({column1:[<span style="color:#f92672">...</span>],column2:[<span style="color:#f92672">...</span>]}) <span style="color:#75715e">#å­—å…¸çš„keyè¡¨ç¤ºæŸä¸€åˆ—</span>
</span></span><span style="display:flex;"><span>Dataframe<span style="color:#f92672">.</span>from_dict({index1:[c1,c2,c3], index2:[c1,c2,c3], <span style="color:#f92672">...</span>}) <span style="color:#75715e">#å­—å…¸çš„keyè¡¨ç¤ºæŸä¸€è¡Œçš„ç´¢å¼•</span>
</span></span></code></pre></div><p>æ·»åŠ æ–°çš„è¡Œ/åˆ—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºæ–°çš„åˆ—</span>
</span></span><span style="display:flex;"><span>df[new_column] <span style="color:#f92672">=</span> constant <span style="color:#f92672">/</span> df[a]<span style="color:#f92672">+</span>df[b] <span style="color:#f92672">/</span> df[a]<span style="color:#f92672">.</span>apply(func) <span style="color:#75715e"># è€ç‰ˆæœ¬çš„å†™æ³•</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[:,c] <span style="color:#f92672">=</span> df[a] <span style="color:#f92672">+</span> df[b] <span style="color:#75715e"># æ›´å»ºè®®çš„å†™æ³•</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ›å»ºæ–°çš„è¡Œ</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[len(df)] <span style="color:#f92672">=</span> Series({column1<span style="color:#f92672">=</span>x,column2<span style="color:#f92672">=</span>y,<span style="color:#f92672">...</span>})
</span></span></code></pre></div><p>ç­›é€‰è¡Œ/åˆ—/å…ƒç´ </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ç´¢å¼•å•è¡Œå•åˆ—</span>
</span></span><span style="display:flex;"><span>df[column_name]<span style="color:#960050;background-color:#1e0010">`</span>  <span style="color:#75715e"># ç´¢å¼•æŸä¸€åˆ—</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[idx]  <span style="color:#75715e"># ç´¢å¼•æŸä¸€è¡Œ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç´¢å¼•å•ä¸€å…ƒç´ </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[idx, column_name]  <span style="color:#75715e"># ç´¢å¼•æŸä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[idx, column_idx]  <span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[bool_index]<span style="color:#f92672">.</span>values <span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç´¢å¼•å¤šè¡Œå¤šåˆ—</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[[idx1,idx2]][[column_name1,colunmn_name2]] <span style="color:#75715e">#ç´¢å¼•å¤šè¡Œå¤šåˆ—</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[[idx1,idx2],[column_name1,colunmn_name2]] <span style="color:#75715e">#ç´¢å¼•å¤šè¡Œå¤šåˆ—</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æŒ‰æ¡ä»¶ç­›é€‰</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[df[a] <span style="color:#f92672">==</span> df[b],:] <span style="color:#75715e"># æŒ‰åˆ—ç­›é€‰çš„ç»“æœï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§è¡Œç´¢å¼•</span>
</span></span></code></pre></div><p>æ›´æ”¹ç´¢å¼•åˆ—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[new_column_list] <span style="color:#75715e"># é‡æ’column</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>reset_index(names<span style="color:#f92672">=</span>[]) <span style="color:#75715e"># ç”Ÿæˆæ–°çš„ç´¢å¼•åˆ—ï¼ŒåŸç´¢å¼•åˆ—é‡å‘½å</span>
</span></span></code></pre></div><p>ç»Ÿè®¡åˆ†æ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>value_counts(column_name)
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>plot()
</span></span></code></pre></div><ul>
<li>åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦å±äºæŸä¸€åˆ—ï¼Œå¿…é¡»å…ˆå°†è¯¥åˆ—è½¬åŒ–ä¸ºå¯è¿­ä»£å¯¹è±¡</li>
</ul>

<h3 class="relative group">Matplotlib 
    <div id="matplotlib" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#matplotlib" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>å¸¸ç”¨å·¥ä½œæµ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>pca() <span style="color:#75715e">#æ¸…ç©ºç”»å¸ƒ</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot() <span style="color:#75715e">#ç”»æŠ˜çº¿</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() <span style="color:#75715e">#æ˜¾ç¤ºå›¾ç‰‡ï¼ˆsshæ—¶ä¸å¯ç”¨ï¼‰</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>savefig(save_path) <span style="color:#75715e">#ä¿å­˜å›¾ç‰‡</span>
</span></span></code></pre></div><p>æŸ±çŠ¶å›¾/æ•£ç‚¹å›¾</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>bar(bins1,height<span style="color:#f92672">=</span>hist1) <span style="color:#75715e"># æŸ±çŠ¶å›¾</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x,y,size,color) <span style="color:#75715e"># æ•£ç‚¹å›¾</span>
</span></span></code></pre></div><p>æ˜¾ç¤ºä¸­æ–‡å­—ä½“</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib.font_manager <span style="color:#f92672">import</span> FontProperties
</span></span><span style="display:flex;"><span>font <span style="color:#f92672">=</span> FontProperties(fname<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../PingFang.ttc&#34;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>) <span style="color:#75715e">#é…ç½®æœ¬åœ°å­—ä½“</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(title, fontproperties<span style="color:#f92672">=</span>font) <span style="color:#75715e">#æ ‡é¢˜</span>
</span></span><span style="display:flex;"><span>names <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>join(string)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(range(len(names)), names, fontproperties<span style="color:#f92672">=</span>font, rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>) <span style="color:#75715e">#æ¨ªè½´</span>
</span></span></code></pre></div>
<h3 class="relative group">json/yaml 
    <div id="jsonyaml" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#jsonyaml" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>ä»¥jsonä¸ºä¾‹ï¼Œå…¶è¯»å†™æ–‡ä»¶éœ€è¦ä½¿ç”¨æ–‡ä»¶å¥æŸ„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(filename,<span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> f: 
</span></span><span style="display:flex;"><span>    json_dict <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(f) <span style="color:#75715e">#è¯»</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(filename,<span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    json<span style="color:#f92672">.</span>dump(json_dict, f, ensure_ascii<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>) <span style="color:#75715e">#å†™</span>
</span></span><span style="display:flex;"><span>    
</span></span></code></pre></div><p>yamlä¸jsonçš„å†™æ³•æ˜¯ç±»ä¼¼çš„ï¼Œåªæ˜¯ç”¨åˆ°çš„åº“æ˜¯yaml</p>
<p><a href="https://www.bejson.com/validators/yaml_editor/" target="_blank">yamlæ ¡éªŒå™¨</a></p>

<h2 class="relative group">Deep Learning 
    <div id="deep-learning" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#deep-learning" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">Torch 
    <div id="torch" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#torch" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h4 class="relative group">Tensor 
    <div id="tensor" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#tensor" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>åˆ›å»ºtensor</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>tensor()  <span style="color:#75715e">#å°†å…¶ä»–æ•°æ®ç±»å‹ï¼ˆlist,arrayç­‰ï¼‰è½¬æ¢ä¸ºå¼ é‡</span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>empty()  
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>zeros()                                                                            
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>ones()                                                                              
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>rand()    <span style="color:#75715e"># å‡åŒ€åˆ†å¸ƒ, 0-1ä¹‹é—´</span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>randn()   <span style="color:#75715e"># æ­£æ€åˆ†å¸ƒ, å‡å€¼ä¸º0, æ–¹å·®ä¸º1</span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>normal()  <span style="color:#75715e"># å¯æŒ‡å®šå‡å€¼å’Œæ–¹å·®çš„æ­£æ€åˆ†å¸ƒ</span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>_()
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>randint() <span style="color:#75715e"># éœ€è¦æŒ‡å®šä¸Šä¸‹ç•Œ                                                            </span>
</span></span></code></pre></div><ul>
<li>åˆ›å»ºtensoræ—¶ï¼Œéœ€è¦æŒ‡å®šsizeå’Œdtype</li>
<li>ä¸€èˆ¬size=(x, y, z), dtype=torch.xx</li>
<li>float=float32; double=float64; int=int32; long=int64</li>
</ul>
<p>æ“ä½œtensor</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#æ‹¼æ¥</span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>cat([tensor,<span style="color:#f92672">...</span>], dim<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>) <span style="color:#75715e"># åœ¨ç°æœ‰çš„ç»´åº¦ä¸Šå †å </span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>stack([tensor,<span style="color:#f92672">...</span>], dim<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>) <span style="color:#75715e"># åˆ›å»ºä¸€ä¸ªæ–°çš„ç»´åº¦ï¼Œåœ¨ä¸Šé¢å †å </span>
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>nn<span style="color:#f92672">.</span>utils<span style="color:#f92672">.</span>rnn<span style="color:#f92672">.</span>pad_seq([seq_a, seq_b, <span style="color:#f92672">...</span>], batch_first<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>) <span style="color:#75715e"># ä¸ç­‰é•¿åºåˆ—è¡¥é›¶åæ‹¼æ¥</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç´¢å¼•</span>
</span></span><span style="display:flex;"><span>tensor[x,y,z] <span style="color:#75715e"># æ ‡é‡ç´¢å¼•ï¼Œç´¢å¼•åæ ‡ä¸º(x,y,z)çš„å…ƒç´ </span>
</span></span><span style="display:flex;"><span>tensor[[x1,x2],y,z] <span style="color:#75715e"># åˆ—è¡¨ç´¢å¼•ï¼Œç´¢å¼•åæ ‡ä¸º(x1,y,z)å’Œ(x2,y,z)çš„å…ƒç´ </span>
</span></span><span style="display:flex;"><span>tensor[tensor1,tensor2,tensor3] <span style="color:#75715e"># å¼ é‡ç´¢å¼•ï¼Œç´¢å¼•åæ ‡ä¸º(x1,y1,z1),...(xn,yn,zn)çš„å…ƒç´ ï¼Œtensorå¿…é¡»æ˜¯ä¸€ç»´å¼ é‡</span>
</span></span><span style="display:flex;"><span>(tensor <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.5</span>)<span style="color:#f92672">.</span>nonzero(as_tuple<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>) <span style="color:#75715e"># è·å–æ»¡è¶³æ¡ä»¶çš„ç´¢å¼•</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰©å¼ </span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>expand() <span style="color:#75715e">#æ²¿ç»´åº¦æ‰©å¼ nå€</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>repeat(n1, n2) <span style="color:#75715e"># repeatçš„ç»´åº¦å¿…é¡»&gt;=åŸå§‹ç»´åº¦ï¼Œå¹¶ä¸”åŸå§‹çš„tensorä¼šç½®äºæœ€å</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">x = randn(dim1,dim2)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">x.repeat(n1,n2)è¿”å›(n1*dim1,n2*dim2)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">x.repeat(n1,n2,1,1)è¿”å›(n1,n2,dim1,dim2)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è½¬ç½®</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>permute(dim1, dim2, dim3, <span style="color:#960050;background-color:#1e0010">â€¦</span>)
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>transpose(dim1, dim2) <span style="color:#75715e">#åªèƒ½äºŒç»´</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å˜å½¢</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>view(dim1,dim2,dim3,<span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>reshape(dim1,dim2,dim3,<span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è®¡ç®—</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>norm(dim, keep_dim<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>) <span style="color:#75715e">#æ²¿æŒ‡å®šç»´åº¦æ±‚èŒƒæ•°</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¤åˆ¶+å»é™¤æ¢¯åº¦</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">.</span>clone()<span style="color:#f92672">.</span>detatch()
</span></span></code></pre></div><ul>
<li>äº¤æ¢ç»´åº¦ï¼špermuteå¯ä»¥å¯¹ä»»æ„é«˜ç»´çŸ©é˜µè¿›è¡Œè½¬ç½®ï¼Œtransposeåªèƒ½åœ¨ä¸¤ä¸ªç»´åº¦ä¹‹é—´è½¬æ¢ï¼Œå…¶ä»–ç»´åº¦ä¿æŒä¸å˜ã€‚</li>
<li>Tensoré‡æ’: viewæ›´å¿«ï¼Œreshapeåˆ†é…æ–°çš„å†…å­˜ï¼Œæ›´æ…¢ä½†æ›´é€šç”¨</li>
<li>Broadcastæœºåˆ¶ï¼šç»´åº¦ä¸ç­‰çš„ä¸¤ä¸ªTensoråœ¨è¿›è¡Œè¿ç®—æ—¶ï¼Œä»åå¾€å‰éå†å„ä¸ªç»´åº¦ï¼Œè‹¥ä¸¤ä¸ªTensoråœ¨æŸä¸€ç»´åº¦ä¸ç­‰ï¼Œä¸”è¾ƒå°çš„Tensoråœ¨è¯¥ç»´åº¦çš„é•¿åº¦ä¸º1æˆ–ä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥Broadcastè‡³ç›¸ç­‰ç»´åº¦</li>
</ul>

<h4 class="relative group">Model 
    <div id="model" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#model" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<p>æ³¨å†Œå‚æ•°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>model<span style="color:#f92672">.</span>register_buffer(name, tensor)
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>register_parameter(name, tensor)
</span></span><span style="display:flex;"><span>nn<span style="color:#f92672">.</span>Parameter()
</span></span></code></pre></div><p>æ¨¡å‹éå†</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>model<span style="color:#f92672">.</span>modules()  <span style="color:#75715e">#éå†modelçš„æ‰€æœ‰å­å±‚ï¼Œç±»æ¯”DFSæœç´¢ï¼Œæœ‰é‡å¤ã€‚</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>children()  <span style="color:#75715e">#éå†modelçš„æ‰€æœ‰æµ…å±‚</span>
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>parameters()  <span style="color:#75715e">#ä¿å­˜çš„æ˜¯Weightså’ŒBaiså‚æ•°çš„å€¼</span>
</span></span></code></pre></div><p>æ¨¡å‹å¾®è°ƒ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>parameters():
</span></span><span style="display:flex;"><span>    p<span style="color:#f92672">.</span>requires_grad <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
</span></span></code></pre></div><p>æ˜¾å­˜å ç”¨</p>
<ol>
<li>æ¨¡å‹å‚æ•°ï¼šåˆå§‹åŒ–äº§ç”Ÿ</li>
<li>ä¸­é—´ç»“æœï¼šå‰å‘ä¼ æ’­äº§ç”Ÿï¼ˆç½‘ç»œä¸­å¦‚æœå­˜åœ¨ä¸€äº›è¾ƒé•¿çš„è¿æ¥ï¼Œæ¯”å¦‚ç¬¬10å±‚çš„ç½‘ç»œéœ€è¦ä½¿ç”¨æ¥è‡ªç½‘ç»œç¬¬ä¸€å±‚çš„è¾“å‡ºç»“æœï¼Œè¿™éƒ¨åˆ†çš„ç‰¹å¾å›¾å°±ä¼šä¸€ç›´å ç”¨æ˜¾å­˜ï¼‰</li>
<li>æ¨¡å‹å‚æ•°çš„æ¢¯åº¦ï¼šåå‘ä¼ æ’­äº§ç”Ÿ</li>
<li>ä¼˜åŒ–å™¨çŠ¶æ€ï¼šä¾‹å¦‚Adamä¼šä¿å­˜æ¯ä¸ªå‚æ•°çš„äºŒé˜¶æ¢¯åº¦</li>
</ol>
<p>å¸¸è§æ¨¡å—çš„çš„å‚æ•°é‡å’Œè®¡ç®—é‡</p>
<table>
  <thead>
      <tr>
          <th style="text-align: center">Module</th>
          <th style="text-align: center">å‚æ•°é‡</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">Conv2d</td>
          <td style="text-align: center">$C_{out} \times H_{kernel} \times W_{kernel} \times C_{in}$</td>
      </tr>
      <tr>
          <td style="text-align: center">Linear</td>
          <td style="text-align: center">$C_{out} \times C_{in}$</td>
      </tr>
      <tr>
          <td style="text-align: center">MultiHeadAttention</td>
          <td style="text-align: center">$N_{head} \times (C_{in} \times C_{query} + C_{in} \times C_{key} +C_{in} \times C_{value})$</td>
      </tr>
  </tbody>
</table>

<h4 class="relative group">Dataset &amp; Dataloader 
    <div id="dataset--dataloader" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#dataset--dataloader" aria-label="Anchor">#</a>
    </span>        
    
</h4>
<ul>
<li>
<p>transform: ä¸€èˆ¬åœ¨Datasetä¸­å®šä¹‰ï¼Œåœ¨è¿”å›ä¸€ä¸ªIndexçš„sampleæ—¶è¿›è¡Œå¤„ç†</p>
</li>
<li>
<p>batch_sampler: ä»Datasetä¸­è·å–ä¸€ä¸ªbatchçš„sample, å…¶ä¸­indexçš„è·å–å–å†³äºé‡‡æ ·ç®—æ³•</p>
</li>
<li>
<p>collect_function: å°†æ ·æœ¬å˜æˆBatch</p>
<ul>
<li>è¾“å…¥ï¼šåˆ—è¡¨ï¼Œé•¿åº¦ä¸ºBatch_sizeï¼Œåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ æ˜¯å­—å…¸ï¼Œä»£è¡¨ä¸€ä¸ªæ ·æœ¬</li>
<li>è¾“å‡ºï¼šå­—å…¸ï¼Œæ¯ä¸ªé”®å€¼å¯¹æ˜¯ä¸€ä¸ªç±»å‹å’Œå¯¹åº”çš„Tensorï¼Œå¹¶ä¸”å·²ç»æœ‰äº†Batch_sizeè¿™ä¸ªç»´åº¦</li>
</ul>
</li>
<li>
<p>[PyTorch DataLoaderå·¥ä½œåŸç†å¯è§†åŒ–](</p>
</li>
</ul>

<h3 class="relative group">PyG: torch_gemotry 
    <div id="pyg-torch_gemotry" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#pyg-torch_gemotry" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>å®˜æ–¹æ–‡æ¡£</p>
<ul>
<li><a href="https://pytorch-geometric.readthedocs.io/en/latest/get_started/introduction.html" target="_blank">Introduction by Example</a></li>
<li><a href="https://pytorch-geometric.readthedocs.io/en/latest/tutorial/heterogeneous.html" target="_blank">Heterogeneous Graph Learning</a></li>
</ul>
<p>Installation</p>
<ol>
<li>æ ¹æ®cudaç‰ˆæœ¬å’Œpytorchç‰ˆæœ¬ï¼Œé€‰æ‹©åˆé€‚çš„PyGç‰ˆæœ¬</li>
<li>ç”¨whlå®‰è£…å„ä¸ªPyGä¾èµ–åŒ…ï¼Œç„¶åæŠŠsparse-convå¸æ‰</li>
</ol>
<p>Debug</p>
<ol>
<li>æŠ¥é”™ä¿¡æ¯å¹¶ä¸ä¸€å®šåæ˜ çœŸå®æƒ…å†µ
<ol>
<li>åœ¨CPUä¸Šè°ƒè¯•ä»¥è·å–å°½å¯èƒ½æœ‰æ•ˆçš„æŠ¥é”™ä¿¡æ¯</li>
<li>å¯èƒ½æ˜¯ç‰ˆæœ¬é—®é¢˜æˆ–è€…æ˜¯dtypeä¸ä¸€è‡´è¿™ç§åŸºç¡€é”™è¯¯</li>
</ol>
</li>
<li>PyGå¯¹å¼‚æ„å›¾çš„æ”¯æŒä¸å¦‚åŒæ„å›¾å®Œå–„
<ol>
<li>ä¼˜å…ˆä½¿ç”¨åŒæ„å›¾</li>
<li>å¼‚æ„å›¾éœ€è¦æ¯å¼ å›¾éƒ½åŒ…å«æ‰€æœ‰ç±»å‹çš„èŠ‚ç‚¹å’Œè¾¹ï¼Œå¦‚æœæ²¡æœ‰å°±ç”¨torch.empty()å¡«å……</li>
<li>å¼‚æ„å›¾çš„è¾¹ç±»å‹å‘½åä¸èƒ½å«æœ‰æ•°å­—</li>
</ol>
</li>
</ol>
<p>å­å›¾é‡‡æ ·</p>
<p><code>torch_geometric.utils</code>æä¾›äº†è‹¥å¹²ç”¨äºä»å¤§å›¾ä¸­è¿›è¡Œå­å›¾é‡‡æ ·çš„API</p>
<table>
  <thead>
      <tr>
          <th>API</th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>subgraph</td>
          <td>åªåŒ…å«ç»™ç‚¹èŠ‚ç‚¹çš„å­å›¾ï¼›è‡ªåŠ¨æ»¤é™¤æ²¡æœ‰è¾¹è¿æ¥çš„èŠ‚ç‚¹ï¼›è¿”å›ç”¨å…¨å±€ç´¢å¼•è¡¨è¾¾çš„è¾¹å’Œè¾¹å±æ€§</td>
      </tr>
      <tr>
          <td>k_hop_subgraph</td>
          <td>ä¼šç»™k-hopèŠ‚ç‚¹åˆ†é…æ–°çš„å±€éƒ¨ç´¢å¼•ï¼›edge_indexæ˜¯ç”±æ–°çš„å±€éƒ¨ç´¢å¼•æ¥è¡¨è¾¾ï¼›edge_maskæ˜¯æŒ‰åŸå§‹è¾¹ç´¢å¼•çš„ç›¸å¯¹ä½ç½®æ¥æ’å¸ƒçš„ï¼Œç”¨äºç­›é€‰è¿™äº›è¾¹å¯¹åº”çš„ç‰¹å¾ï¼›</td>
      </tr>
  </tbody>
</table>
<p>GNNè®¾è®¡</p>
<p>åœ¨pygçš„è®¾è®¡ç†å¿µä¸­ï¼Œè¾¹æ˜¯æœ‰å‘çš„ï¼Œæ¶ˆæ¯ä¼ é€’æ˜¯æ²¿ç€sourceèŠ‚ç‚¹åˆ°targetèŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯æ— å‘è¾¹ï¼Œéœ€è¦è‡ªå·±è®¾ç½®ä¸¤æ¡è¾¹</p>

<h2 class="relative group">Experiemnt 
    <div id="experiemnt" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#experiemnt" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">TorchMetrics 
    <div id="torchmetrics" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#torchmetrics" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><a href="https://lightning.ai/docs/torchmetrics/stable/pages/quickstart.html" target="_blank">quick start</a></p>
<p>é¢„å®šä¹‰æŒ‡æ ‡</p>
<p>å‡½æ•°å¼</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torchmetrics
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>preds <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>)<span style="color:#f92672">.</span>softmax(dim<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>target <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">5</span>, (<span style="color:#ae81ff">10</span>,))
</span></span><span style="display:flex;"><span>acc <span style="color:#f92672">=</span> torchmetrics<span style="color:#f92672">.</span>functional<span style="color:#f92672">.</span>accuracy(preds, target, task<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;multiclass&#34;</span>, num_classes<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><p>å¯¹è±¡å¼</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torchmetrics
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>metric <span style="color:#f92672">=</span> torchmetrics<span style="color:#f92672">.</span>classification<span style="color:#f92672">.</span>Accuracy(task<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;multiclass&#34;</span>, num_classes<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n_batches <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n_batches):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># simulate a classification problem</span>
</span></span><span style="display:flex;"><span>    preds <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>)<span style="color:#f92672">.</span>softmax(dim<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    target <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">5</span>, (<span style="color:#ae81ff">10</span>,))
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># metric on current batch</span>
</span></span><span style="display:flex;"><span>    acc <span style="color:#f92672">=</span> metric(preds, target)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Accuracy on batch </span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">{</span>acc<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># metric on all batches using custom accumulation</span>
</span></span><span style="display:flex;"><span>acc <span style="color:#f92672">=</span> metric<span style="color:#f92672">.</span>compute()
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Accuracy on all data: </span><span style="color:#e6db74">{</span>acc<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Resetting internal state such that metric ready for new data</span>
</span></span><span style="display:flex;"><span>metric<span style="color:#f92672">.</span>reset()
</span></span></code></pre></div><p>è‡ªå®šä¹‰æŒ‡æ ‡</p>
<p>åœ¨<code>__init__</code>ä¸­å®šä¹‰ä¸åŒbatchè®¡ç®—ç»“æœçš„èšåˆæ–¹å¼ï¼Œåœ¨<code>update</code>ä¸­å®šä¹‰æ¯ä¸ªbatchçš„å‰å‘è®¡ç®—ï¼Œåœ¨<code>compute</code>ä¸­å®šä¹‰æ‰€æœ‰batchè®¡ç®—å®Œæˆåçš„åå¤„ç†ã€‚</p>
<p>æ–¹å¼ä¸€ï¼šåœ¨æ¯ä¸ªbatchè¿›è¡ŒæŒ‡æ ‡è®¡ç®—ï¼Œåå¤„ç†æ—¶èšåˆ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> torchmetrics <span style="color:#f92672">import</span> Metric
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyAccuracy</span>(Metric):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>(<span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>add_state(<span style="color:#e6db74">&#34;correct&#34;</span>, default<span style="color:#f92672">=</span>torch<span style="color:#f92672">.</span>tensor(<span style="color:#ae81ff">0</span>), dist_reduce_fx<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sum&#34;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>add_state(<span style="color:#e6db74">&#34;total&#34;</span>, default<span style="color:#f92672">=</span>torch<span style="color:#f92672">.</span>tensor(<span style="color:#ae81ff">0</span>), dist_reduce_fx<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sum&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update</span>(self, preds: Tensor, target: Tensor) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        preds, target <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>_input_format(preds, target)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> preds<span style="color:#f92672">.</span>shape <span style="color:#f92672">!=</span> target<span style="color:#f92672">.</span>shape:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;preds and target must have the same shape&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>correct <span style="color:#f92672">+=</span> torch<span style="color:#f92672">.</span>sum(preds <span style="color:#f92672">==</span> target)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>total <span style="color:#f92672">+=</span> target<span style="color:#f92672">.</span>numel()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">compute</span>(self) <span style="color:#f92672">-&gt;</span> Tensor:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>correct<span style="color:#f92672">.</span>float() <span style="color:#f92672">/</span> self<span style="color:#f92672">.</span>total
</span></span></code></pre></div><p>æ–¹å¼äºŒï¼šåœ¨æ¯ä¸ªbatchä¿å­˜ç»“æœï¼Œæœ€ç»ˆä¸€èµ·è®¡ç®—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> torchmetrics <span style="color:#f92672">import</span> Metric
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> torchmetrics.utilities <span style="color:#f92672">import</span> dim_zero_cat
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MySpearmanCorrCoef</span>(Metric):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>(<span style="color:#f92672">**</span>kwargs)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>add_state(<span style="color:#e6db74">&#34;preds&#34;</span>, default<span style="color:#f92672">=</span>[], dist_reduce_fx<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cat&#34;</span>)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>add_state(<span style="color:#e6db74">&#34;target&#34;</span>, default<span style="color:#f92672">=</span>[], dist_reduce_fx<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cat&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update</span>(self, preds: Tensor, target: Tensor) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>preds<span style="color:#f92672">.</span>append(preds)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>target<span style="color:#f92672">.</span>append(target)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">compute</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># parse inputs</span>
</span></span><span style="display:flex;"><span>        preds <span style="color:#f92672">=</span> dim_zero_cat(self<span style="color:#f92672">.</span>preds)
</span></span><span style="display:flex;"><span>        target <span style="color:#f92672">=</span> dim_zero_cat(self<span style="color:#f92672">.</span>target)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># some intermediate computation...</span>
</span></span><span style="display:flex;"><span>        r_preds, r_target <span style="color:#f92672">=</span> _rank_data(preds), _rank_dat(target)
</span></span><span style="display:flex;"><span>        preds_diff <span style="color:#f92672">=</span> r_preds <span style="color:#f92672">-</span> r_preds<span style="color:#f92672">.</span>mean(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        target_diff <span style="color:#f92672">=</span> r_target <span style="color:#f92672">-</span> r_target<span style="color:#f92672">.</span>mean(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        cov <span style="color:#f92672">=</span> (preds_diff <span style="color:#f92672">*</span> target_diff)<span style="color:#f92672">.</span>mean(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        preds_std <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>sqrt((preds_diff <span style="color:#f92672">*</span> preds_diff)<span style="color:#f92672">.</span>mean(<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>        target_std <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>sqrt((target_diff <span style="color:#f92672">*</span> target_diff)<span style="color:#f92672">.</span>mean(<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># finalize the computations</span>
</span></span><span style="display:flex;"><span>        corrcoef <span style="color:#f92672">=</span> cov <span style="color:#f92672">/</span> (preds_std <span style="color:#f92672">*</span> target_std <span style="color:#f92672">+</span> eps)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> torch<span style="color:#f92672">.</span>clamp(corrcoef, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1.0</span>)
</span></span></code></pre></div>
<h3 class="relative group">Tensorboard/wandb/Swanlab 
    <div id="tensorboardwandbswanlab" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#tensorboardwandbswanlab" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><strong>Tensorboard</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> torch.utils.tensorboard <span style="color:#f92672">import</span> SummaryWriter
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>writer <span style="color:#f92672">=</span> SummaryWriter(log_dir<span style="color:#f92672">=</span>log_dir) <span style="color:#75715e"># åˆ›å»ºtensorboardçš„æŒ‡æ ‡è®°å½•å™¨</span>
</span></span><span style="display:flex;"><span>writer<span style="color:#f92672">.</span>add_scalar(loss_name, loss_val, n_iter) <span style="color:#75715e"># åœ¨ç›¸åº”çš„åœ°æ–¹ä¿å­˜éœ€è¦å¯è§†åŒ–çš„æŒ‡æ ‡</span>
</span></span></code></pre></div><p>ç«¯å£æ˜ å°„ä¸æµè§ˆå™¨è®¿é—®</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span> ssh -L 16006:127.0.0.1:6006 -p server_port username@server_ip <span style="color:#75715e"># on the local PC</span>
</span></span><span style="display:flex;"><span> tensorboard --logdir log --port<span style="color:#f92672">=</span><span style="color:#ae81ff">6006</span> <span style="color:#75715e"># on the remote server</span>
</span></span></code></pre></div><p><a href="https://docs.wandb.ai/guides/" target="_blank">Wandb</a></p>
<p><a href="https://docs.swanlab.cn" target="_blank"><strong>Swanlab</strong></a></p>
<p>å¼ºçƒˆæ¨è</p>

<h2 class="relative group">AI Infra for LLM 
    <div id="ai-infra-for-llm" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#ai-infra-for-llm" aria-label="Anchor">#</a>
    </span>        
    
</h2>

<h3 class="relative group">LLM Download 
    <div id="llm-download" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#llm-download" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Huggingface</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> huggingface_hub <span style="color:#f92672">import</span> hf_hub_download
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> huggingface_hub <span style="color:#f92672">import</span> snapshot_download
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>environ[<span style="color:#e6db74">&#34;HF_ENDPOINT&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://hf-mirror.com&#34;</span>
</span></span><span style="display:flex;"><span>repo_id <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;mistralai/Ministral-8B-Instruct-2410&#34;</span>
</span></span><span style="display:flex;"><span>snapshot_download(
</span></span><span style="display:flex;"><span>    repo_id<span style="color:#f92672">=</span>repo_id,
</span></span><span style="display:flex;"><span>    local_dir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;models/&#34;</span> <span style="color:#f92672">+</span> repo_id<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;/&#34;</span>)[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>],
</span></span><span style="display:flex;"><span>    token<span style="color:#f92672">=</span>token,
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><ul>
<li>å›½å†…è®¿é—®éœ€è¦æŒ‡å®šé•œåƒæº</li>
<li>éƒ¨åˆ†LLMéœ€è¦ç”³è¯·ï¼Œåœ¨ä¸‹è½½æ—¶éœ€è¦ä¼ å…¥huggingface token</li>
</ul>
<p><a href="https://modelscope.cn/docs/models/download" target="_blank">ModelScope</a></p>
<p>å›½å†…æ¨¡å‹æ¨èä½¿ç”¨è¯¥ç½‘ç«™ï¼Œé€Ÿåº¦è¾ƒå¿«</p>

<h3 class="relative group">Transformers 
    <div id="transformers" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#transformers" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><em><strong>AutoModel</strong></em></p>
<p>å¦‚æœä¸éœ€è¦è°ƒæ•´æ¨¡å‹ç»“æ„ï¼Œé‚£ä¹ˆåªéœ€è¦ä½¿ç”¨AutoClassä¸‰ä»¶å¥—<code>AutoConfig</code>ã€<code>AutoTokenizer</code>å’Œ<code>AutoModel</code></p>
<p>AutoModelä¸ä¼šå¯¹æ¨¡å‹æ¶æ„è¿›è¡Œé™åˆ¶ï¼Œåªæ˜¯æ ¹æ®è·¯å¾„åç§°å»æŸ¥æ‰¾ç›¸åº”çš„æ¨¡å‹æ¶æ„å’Œæƒé‡</p>
<pre tabindex="0"><code>model = AutoModelForSequenceClassification.from_pretrained(&#34;google-bert/bert-base-cased&#34;, num_labels=5)
</code></pre><p>å¦‚æœè¦å®ç°æ›´åŠ å®šåˆ¶åŒ–çš„æ“ä½œï¼ŒPLMä¹Ÿå¯ä»¥ä½œä¸ºBackboneç»„ä»¶ï¼Œå®ç°<strong>è‡ªå®šä¹‰ç»“æ„çš„ä¸‹æ¸¸ä»»åŠ¡æ¨¡å‹</strong></p>
<p><em><strong>Custom Model</strong></em></p>
<p><a href="https://huggingface.co/docs/transformers/en/custom_models" target="_blank">åˆ›å»ºè‡ªå·±çš„æ¨¡å‹</a></p>
<ul>
<li>ç»§æ‰¿PLMå¯¹åº”çš„<code>PreTrainedModel</code>ï¼Œå¹¶ä¼ å…¥åŒä¸€ä¸ª<code>Config</code></li>
<li>å¯ä»¥ä½¿ç”¨<code>init_weights</code>ï¼Œä¼šæ ¹æ®configçš„å‚æ•°æ¥å¯¹ç‰¹å®šçš„å±‚åšåˆå§‹åŒ–</li>
<li>å¯ä»¥ä½¿ç”¨<code>from_pretrained</code>å’Œ<code>save_pretrain</code>æ–¹æ³•</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CustomModel</span>(PreTrainedModel):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, config):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>(config)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>prtrained_model <span style="color:#f92672">=</span> ResNet(config)
</span></span><span style="display:flex;"><span>				self<span style="color:#f92672">.</span>classifier <span style="color:#f92672">=</span> Linear(config<span style="color:#f92672">.</span>hidden_size, config<span style="color:#f92672">.</span>num_labels)
</span></span><span style="display:flex;"><span>				self<span style="color:#f92672">.</span>init_weights()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">forward</span>(self, tensor, labels<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>        hidden_states <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>prtrained_model(tensor)
</span></span><span style="display:flex;"><span>        logits <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>classifier(hidden_states)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> labels <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>            loss <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>nn<span style="color:#f92672">.</span>cross_entropy(logits, labels)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#34;loss&#34;</span>: loss, <span style="color:#e6db74">&#34;logits&#34;</span>: logits}
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#34;logits&#34;</span>: logits}
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>config <span style="color:#f92672">=</span> AutoConfig<span style="color:#f92672">.</span>from_pretrained(model_name_or_path, num_labels<span style="color:#f92672">=</span>num_labels)
</span></span><span style="display:flex;"><span>tokenizer <span style="color:#f92672">=</span> AutoTokenizer<span style="color:#f92672">.</span>from_pretrained(model_name_or_path)
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> CustomModel<span style="color:#f92672">.</span>from_pretrained(<span style="color:#e6db74">&#39;pretrained_model&#39;</span>, config)
</span></span></code></pre></div>
<h3 class="relative group">Datasets 
    <div id="datasets" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#datasets" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><a href="https://huggingface.co/docs/datasets/v3.5.0/en/loading#python-list-of-dictionaries" target="_blank">å°†è‡ªå·±çš„Datasetå°è£…æˆdatasetsåº“æ ¼å¼</a></p>

<h3 class="relative group">Accelerate 
    <div id="accelerate" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#accelerate" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<ul>
<li>å¯¼å…¥å¹¶å®ä¾‹åŒ–<code>Accelerator</code>å¯¹è±¡</li>
<li>å»é™¤æ‰€æœ‰çš„<code>model.to(device)</code>å’Œ<code>batch.to(device)</code></li>
<li>ç”¨<code>accelerator.prepare</code>å°†<code>model, dataloader, optimizer</code>å¹¶è¡ŒåŒ–</li>
<li>ç”¨<code>accelerator.backward(loss)</code>æ›¿ä»£<code>loss.backward()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">+</span> <span style="color:#f92672">from</span> accelerate <span style="color:#f92672">import</span> Accelerator
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span> accelerator <span style="color:#f92672">=</span> Accelerator()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span> device <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>device(<span style="color:#e6db74">&#34;cuda&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span> model<span style="color:#f92672">.</span>to(device)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span> train_dataloader, eval_dataloader, model, optimizer <span style="color:#f92672">=</span> accelerator<span style="color:#f92672">.</span>prepare(
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>     train_dataloader, eval_dataloader, model, optimizer)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> epoch <span style="color:#f92672">in</span> range(num_epochs):
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">for</span> batch <span style="color:#f92672">in</span> train_dataloader:
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>         batch <span style="color:#f92672">=</span> {k: v<span style="color:#f92672">.</span>to(device) <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> batch<span style="color:#f92672">.</span>items()}
</span></span><span style="display:flex;"><span>          outputs <span style="color:#f92672">=</span> model(<span style="color:#f92672">**</span>batch)
</span></span><span style="display:flex;"><span>          loss <span style="color:#f92672">=</span> outputs<span style="color:#f92672">.</span>loss
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>         loss<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span>         accelerator<span style="color:#f92672">.</span>backward(loss)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          optimizer<span style="color:#f92672">.</span>step()
</span></span><span style="display:flex;"><span>          lr_scheduler<span style="color:#f92672">.</span>step()
</span></span><span style="display:flex;"><span>          optimizer<span style="color:#f92672">.</span>zero_grad()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä¿å­˜æ¨¡å‹</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> args<span style="color:#f92672">.</span>output_dir <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">and</span> args<span style="color:#f92672">.</span>num_train_epochs <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>	accelerator<span style="color:#f92672">.</span>wait_for_everyone()
</span></span><span style="display:flex;"><span>  unwrapped_model <span style="color:#f92672">=</span> accelerator<span style="color:#f92672">.</span>unwrap_model(model)
</span></span><span style="display:flex;"><span>  unwrapped_model<span style="color:#f92672">.</span>save_pretrained(args<span style="color:#f92672">.</span>output_dir, save_function<span style="color:#f92672">=</span>accelerator<span style="color:#f92672">.</span>save)
</span></span></code></pre></div><p>åŸºäºä¸Šè¿°ä»£ç ä¿®æ”¹ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨å¤šå¡æˆ–è€…å•å¡è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒ</p>
<ul>
<li>Accelerateå’Œtensor.to(device)ä¸æ˜¯äº’æ–¥çš„ï¼ŒæŸäº›æƒ…å†µä¸‹ä»ç„¶éœ€è¦æ‰‹åŠ¨ä¿®æ”¹device</li>
</ul>
<p>åœ¨å‘½ä»¤è¡ŒæŒ‡å®šæ˜¾å¡</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>accelerate launch --multi_gpu --gpu_ids<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0,1&#34;</span> --num_processes<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> --num_machines<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> main.py <span style="color:#75715e"># å•æœºå¤šå¡</span>
</span></span><span style="display:flex;"><span>CUDA_VISIBLE_DEVICES<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> python main.py <span style="color:#75715e"># å•æœºå•å¡</span>
</span></span></code></pre></div>
<h3 class="relative group">VLLM 
    <div id="vllm" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#vllm" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>ä¸»è¦é’ˆå¯¹Decoder-onlyçš„LLMçš„KV Cacheåšäº†åŠ é€Ÿï¼Œå¯¹Encoder-onlyçš„PLMä½œç”¨ä¸å¤§</p>
<p>VLLMæ”¯æŒåŠ é€Ÿçš„æ¨¡å‹ä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼š</p>
<ol>
<li>VLLMåŸç”Ÿæ”¯æŒï¼Œè§ <a href="https://github.com/vllm-project/vllm/blob/main/vllm/model_executor/models" target="_blank">vllm/model_executor/models</a></li>
<li>Transformersä¸­çš„æ¨¡å‹éƒ¨åˆ†æ”¯æŒï¼ˆä¸»è¦æ˜¯Decoder-onlyï¼‰</li>
<li>Pytorchæ¨¡å‹ï¼šéœ€è¦äººå·¥ç¼–å†™ç›¸å…³ä»£ç ï¼Œè§<a href="https://docs.vllm.ai/en/latest/contributing/model/basic.html" target="_blank">åœ¨VLLMä¸­å®ç°åŸºæœ¬æ¨¡å‹</a></li>
</ol>
<p>å¤šå¡æ¨ç†</p>
<p><a href="https://docs.vllm.ai/en/latest/getting_started/examples/data_parallel.html" target="_blank">Data Parallel</a></p>

<h3 class="relative group">LLaMa Factory 
    <div id="llama-factory" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#llama-factory" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h3 class="relative group">VERL 
    <div id="verl" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#verl" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h2 class="relative group">File System 
    <div id="file-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#file-system" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p><a href="https://cloud.tencent.com/developer/article/2148641" target="_blank">ç›¸å…³é“¾æ¥</a></p>

<h3 class="relative group">æ­£åˆ™åŒ¹é…ä¸è·¯å¾„æ“ä½œ 
    <div id="æ­£åˆ™åŒ¹é…ä¸è·¯å¾„æ“ä½œ" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e6%ad%a3%e5%88%99%e5%8c%b9%e9%85%8d%e4%b8%8e%e8%b7%af%e5%be%84%e6%93%8d%e4%bd%9c" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p><a href="https://liaoxuefeng.com/books/python/reg-exp/index.html" target="_blank">æ­£åˆ™</a></p>
<p>re</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello, my email is example@email.com&#34;</span>
</span></span><span style="display:flex;"><span>pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ re.findall åŒ¹é…æ‰€æœ‰ç¬¦åˆæ¨¡å¼çš„å­å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨è¿”å›</span>
</span></span><span style="display:flex;"><span>matches <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(pattern, text)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ re.sub å°†æŒ‡å®šæ¨¡å¼çš„å­ä¸²æ›¿æ¢ä¸ºæ–°å­ä¸²</span>
</span></span><span style="display:flex;"><span>redacted_text <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(pattern, <span style="color:#e6db74">&#34;REDACTED&#34;</span>, text)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ re.split æŒ‰æŒ‡å®šæ¨¡å¼çš„å­ä¸²åˆ†å‰²æ–‡æœ¬</span>
</span></span><span style="display:flex;"><span>parts <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>split(pattern, text)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ re.search æœç´¢æ–‡æœ¬, è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„é¦–å°¾ä½ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">match</span> <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(pattern, text)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ re.match éªŒè¯å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæ¨¡å¼</span>
</span></span><span style="display:flex;"><span>bool(re<span style="color:#f92672">.</span><span style="color:#66d9ef">match</span>(pattern, number))
</span></span></code></pre></div><p>æ­£åˆ™åŒ¹é…ï¼Œæ ¼å¼æ˜¯å­—ç¬¦+é™å®šç¬¦</p>
<p>é™å®šç¬¦</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>?</td>
          <td>0æˆ–1ä¸ª</td>
      </tr>
      <tr>
          <td>*</td>
          <td>ä»»æ„ä¸ª</td>
      </tr>
      <tr>
          <td>+</td>
          <td>1ä¸ªä»¥ä¸Š</td>
      </tr>
      <tr>
          <td>{m,n}</td>
          <td>m-nä¸ª</td>
      </tr>
  </tbody>
</table>
<p>å­—ç¬¦ã€å…ƒå­—ç¬¦</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>[a-zA-Z0-9][abc]</td>
          <td>å°å†™æˆ–å¤§å†™æˆ–æ•°å­—aæˆ–bæˆ–c ; å¦å®š:[^a-z]</td>
      </tr>
      <tr>
          <td>a|b|c</td>
          <td>aæˆ–bæˆ–c</td>
      </tr>
      <tr>
          <td>\w</td>
          <td>å•è¯ï¼ˆè‹±æ–‡/æ•°å­—/ä¸‹åˆ’çº¿ï¼‰</td>
      </tr>
      <tr>
          <td>\d</td>
          <td>æ•°å­—</td>
      </tr>
      <tr>
          <td>\s</td>
          <td>ç©ºæ ¼ï¼ˆåŒ…æ‹¬æ¢è¡Œç­‰ï¼‰</td>
      </tr>
      <tr>
          <td>\b</td>
          <td>è¾¹ç•Œ e.g.\bword\b</td>
      </tr>
      <tr>
          <td>.</td>
          <td>ä»»æ„å­—ç¬¦</td>
      </tr>
  </tbody>
</table>
<ul>
<li><a href="https://regex101.com/" target="_blank">æ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿æµ‹è¯•å·¥å…·</a></li>
<li>æ­£åˆ™è¡¨è¾¾å¼é‡Œæœ‰è½¬ä¹‰ç¬¦&quot;&quot;æ—¶ï¼Œåº”è¯¥åœ¨å­—ç¬¦ä¸²å‰åŠ â€œrâ€</li>
</ul>
<p>glob</p>
<p>åŒ…æ‹¬*ã€**ã€? ã€[ ]è¿™å››ä¸ªé€šé…ç¬¦ã€‚</p>
<p>*  åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦<br>
** åŒ¹é…æ‰€æœ‰æ–‡ä»¶ã€ç›®å½•ã€å­ç›®å½•å’Œå­ç›®å½•é‡Œçš„æ–‡ä»¶<br>
? åŒ¹é…ä¸€ä¸ªå­—ç¬¦<br>
[] åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚[0-9]åŒ¹é…æ•°å­—ï¼Œ[a-z]åŒ¹é…å°å†™å­—æ¯</p>
<p>pathlib</p>
<p>æ“ä½œæ–‡ä»¶è·¯å¾„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p<span style="color:#f92672">.</span>name  <span style="color:#75715e">#è·å–æ–‡ä»¶å  </span>
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>suffix  <span style="color:#75715e">#è·å–æ–‡ä»¶åç¼€</span>
</span></span></code></pre></div>
<h3 class="relative group"> 
    <div id="" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#" aria-label="Anchor">#</a>
    </span>        
    
</h3>

<h3 class="relative group">å·¥ä½œç›®å½•ä¸åŒ…ç®¡ç† 
    <div id="å·¥ä½œç›®å½•ä¸åŒ…ç®¡ç†" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95%e4%b8%8e%e5%8c%85%e7%ae%a1%e7%90%86" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>æŸ¥çœ‹å’Œæ›´æ”¹å·¥ä½œç›®å½•ï¼Œä»¥åŠå·¥ä½œç›®å½•çš„æ–‡ä»¶æƒ…å†µ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>os<span style="color:#f92672">.</span>getcwd(path)  <span style="color:#75715e">#æŸ¥çœ‹å·¥ä½œç›®å½•</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>chdir(path)  <span style="color:#75715e">#æ”¹å˜å·¥ä½œç›®å½•</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>listdir(path)  <span style="color:#75715e">#æµè§ˆå·¥ä½œç›®å½•</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>walk(path) <span style="color:#75715e"># éå†ç›®å½•</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>mkdir(path)  <span style="color:#75715e">#åˆ›å»ºæ–‡ä»¶å¤¹</span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>remove(path)  <span style="color:#75715e">#åˆ é™¤æ–‡ä»¶</span>
</span></span></code></pre></div>
<h3 class="relative group">æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥ 
    <div id="æ–‡ä»¶çš„å¢åˆ æ”¹æŸ¥" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%e6%96%87%e4%bb%b6%e7%9a%84%e5%a2%9e%e5%88%a0%e6%94%b9%e6%9f%a5" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>æ–‡ä»¶/æ–‡ä»¶å¤¹çš„å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½å</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copy(src, dst)  <span style="color:#75715e">#å¤åˆ¶æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>copytree(src, dst)  <span style="color:#75715e">#å¤åˆ¶æ–‡ä»¶å¤¹</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>move(src, dst)  <span style="color:#75715e">#é‡å‘½åæ–‡ä»¶/æ–‡ä»¶å¤¹</span>
</span></span><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>rmtree(src, dst)  <span style="color:#75715e">#åˆ é™¤æ–‡ä»¶å¤¹</span>
</span></span></code></pre></div><ul>
<li>os.remove()æ–¹æ³•åªèƒ½åˆ é™¤æŸä¸ªæ–‡ä»¶; os.mdir()åªèƒ½åˆ é™¤æŸä¸ªç©ºæ–‡ä»¶å¤¹
å‹ç¼©</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>shutil<span style="color:#f92672">.</span>make_archive(base_name, format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zip&#39;</span>)
</span></span></code></pre></div><p>ipdb</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ipdb<span style="color:#f92672">.</span>set_trace()
</span></span></code></pre></div><p>ä»£ç ä¼šåœ¨æ‰§è¡Œåˆ°æ–­ç‚¹å¤„æ—¶æš‚åœï¼Œå¯é€šè¿‡vscodeå†…ç½®terminalæŸ¥çœ‹å„ä¸ªå˜é‡çš„çŠ¶æ€</p>

          
          
          
        </div>
        
        

        
        

          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_software\/python.md"
        var oid_likes = "likes_software\/python.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/software/cheatsheet/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >CheatSheet</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2025
      Xu Zhang
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="https://xuzhang0112.github.io/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
